<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü—É–∑—ã—Ä—å–∫–∏ by Nika Shum</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: transparent;
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    .bubble-container {
      position: relative;
      width: 100%;
      height: 100vh;
      background-color: transparent;
    }

    .bubble {
      position: absolute;
      width: 80px;
      height: 80px;
      opacity: 0.6;
      pointer-events: auto;
      cursor: pointer;
      z-index: 100;
    }

    #counter {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, #f6f9fc, #dff9fb);
      padding: 10px 16px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 18px;
      color: #2d3436;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      z-index: 300;
      pointer-events: none;
    }

    #final-message {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: bold;
      color: white;
      background: linear-gradient(135deg, #f39c12, #f1c40f);
      padding: 20px 40px;
      border-radius: 16px;
      font-family: Comic Sans MS, sans-serif;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      z-index: 400;
      pointer-events: none;
      display: none;
    }

    #chest {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1);
      width: 240px;
      cursor: pointer;
      z-index: 300;
      pointer-events: auto;
      transition: transform 0.3s ease;
      display: none; /* Initially hidden */
    }

    @keyframes confetti {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.7) rotate(-10deg); }
      50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2) rotate(15deg); }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(0.7) rotate(-10deg); }
    }

    @keyframes sparkle {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.6) rotate(0deg); }
      50% { opacity: 1; transform: translate(-50%, -50%) scale(1.4) rotate(180deg); }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(0.6) rotate(360deg); }
    }

    @keyframes drop {
      0% { opacity: 0; transform: translate(-50%, -50%) translateY(-30px); }
      30% { opacity: 1; }
      100% { opacity: 0; transform: translate(-50%, -50%) translateY(40px); }
    }
  </style>
</head>
<body>

  <div class="bubble-container" id="bubble-container"></div>
  <div id="counter">ü´ß <strong>0 / 0</strong></div>

  <div id="final-message">üéâ Well Done! üéâ</div>
  <img id="chest" src="https://img.genially.com/64233afb55129a0017751c8e/915b9b98-7a24-4b3f-887a-28042ba9acca.png" alt="Chest">

  <script>
    const total = 10; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–∑—ã—Ä—å–∫–æ–≤
    let popped = 0;
    const TASKS = {
      1: "What's your name?",
      2: "How old are you?",
      3: "Where are you from?",
      4: "Have you got brothers or sisters?",
      5: "Have you got a pet?",
      6: "What's your favourite drink?",
      7: "What's your favourite food?",
      8: "What's your favourite toy?",
      9: "What's your favourite game?",
      10:"What's your favourite colour?"
    };

    const bubbles = [];

    const counter = document.getElementById('counter');
    const finalMessage = document.getElementById('final-message');
    const chest = document.getElementById('chest');

    // –î–≤–∏–≥–∞–µ–º –ø—É–∑—ã—Ä—å–∫–∏
    const dx = 0.5;
    const dy = 0.5;

    // –°–æ–∑–¥–∞–µ–º –ø—É–∑—ã—Ä—å–∫–∏
    for (let i = 1; i <= total; i++) {
      const el = document.createElement('img');
      el.src = "https://media.tenor.com/mqvTrVZEMxIAAAAi/bubble-bfdi.gif"; // –ü—É–∑—ã—Ä–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
      Object.assign(el.style, {
        position: 'absolute',
        width: '80px',
        height: '80px',
        opacity: '0.6',
        pointerEvents: 'auto',
        cursor: 'pointer',
        zIndex: 100
      });

      const maxW = window.innerWidth - 80;
      const maxH = window.innerHeight - 80;
      el.style.left = Math.random() * maxW + 'px';
      el.style.top  = Math.random() * maxH + 'px';

      let xSpeed = (Math.random() - 0.5) * dx;
      let ySpeed = (Math.random() - 0.5) * dy;

      el.addEventListener('click', () => {
        const popSound = new Audio('https://nikashum93.github.io/bubbles-by-nika-shum/pop.mp3');
        popSound.play().catch(() => {});
        el.remove();
        showMessage(i);
        popped++;
        counter.innerHTML = `ü´ß <strong>${popped} / ${total}</strong>`;
      });

      bubbleContainer.appendChild(el);

      // –î–≤–∏–≥–∞–µ–º –ø—É–∑—ã—Ä—å–∫–∏
      function moveBubble() {
        let x = el.offsetLeft + xSpeed;
        let y = el.offsetTop + ySpeed;

        if (x < 0 || x > window.innerWidth - 80) xSpeed = -xSpeed + (Math.random() - 0.5) * dx;
        if (y < 0 || y > window.innerHeight - 80) ySpeed = -ySpeed + (Math.random() - 0.5) * dy;

        el.style.left = `${x}px`;
        el.style.top = `${y}px`;

        requestAnimationFrame(moveBubble);
      }
      moveBubble();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
    function showMessage(id) {
      const msg = document.createElement('div');
      msg.innerHTML = TASKS[id] || `<b>–ó–∞–¥–∞–Ω–∏–µ ${id}</b>`;
      Object.assign(msg.style, {
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        background: 'linear-gradient(135deg, #4facfe, #00f2fe)',
        color: 'white',
        padding: '24px 36px',
        borderRadius: '20px',
        fontSize: '22px',
        fontFamily: 'sans-serif',
        textAlign: 'center',
        boxShadow: '0 6px 16px rgba(0,0,0,0.3)',
        pointerEvents: 'auto',
        cursor: 'pointer',
        zIndex: 200
      });

      msg.addEventListener('click', () => {
        msg.remove();
        if (popped === total) {
          showFinal();
        }
      });

      bubbleContainer.appendChild(msg);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∏–¥–±–µ–∫–∞
    function showFinal() {
      const openSound = new Audio('https://nikashum93.github.io/bubbles-by-nika-shum/open.mp3');
      openSound.play().catch(() => {});

      finalMessage.style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

      setTimeout(() => {
        chest.style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—É–Ω–¥—É–∫
        chest.style.transform = 'translate(-50%, -50%) scale(1.1)';
        chest.src = 'https://img.genially.com/64233afb55129a0017751c8e/d76550fd-2622-441f-bbf2-faee6906772e.png'; // –°—É–Ω–¥—É–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
      }, 600);

      // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å –±–ª–µ—Å—Ç–∫–∞–º–∏ –∏ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      const sparkle = document.createElement('div');
      sparkle.innerHTML = '‚ú®‚ú®‚ú®';
      Object.assign(sparkle.style, {
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%) scale(1.3)',
        fontSize: '48px',
        pointerEvents: 'none',
        zIndex: 350,
        animation: 'sparkle 1s ease-out forwards'
      });
      bubbleContainer.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 1000);

      const coins = document.createElement('div');
      coins.innerHTML = 'ü™ôü™ôü™ô';
      Object.assign(coins.style, {
        position: 'absolute',
        top: '60%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        fontSize: '32px',
        pointerEvents: 'none',
        zIndex: 350,
        animation: 'drop 1.5s ease-out forwards'
      });
      bubbleContainer.appendChild(coins);
      setTimeout(() => coins.remove(), 1500);
    }
  </script>

</body>
</html>
