<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü—É–∑—ã—Ä—å–∫–∏ by Nika Shum</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: transparent;
      margin: 0;
      padding: 0;
    }

    .bubble-container {
      position: relative;
      width: 100%;
      height: 100vh;
      background-color: transparent;
    }

    .bubble {
      position: absolute;
      width: 80px;
      height: 80px;
      opacity: 0.8;
      pointer-events: auto;
      cursor: pointer;
    }

    #counter {
      position: absolute;
      top: 20px;
      left: 20px;
      font-family: sans-serif;
      font-size: 18px;
      color: #2d3436;
      z-index: 10;
    }

    #chest {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1);
      width: 240px;
      cursor: pointer;
      z-index: 100;
      display: none;
    }

    #final-message {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: bold;
      color: white;
      background: #4CAF50;
      padding: 20px 40px;
      border-radius: 16px;
      font-family: Comic Sans MS, sans-serif;
      display: none;
    }
  </style>
</head>
<body>

  <div class="bubble-container" id="bubble-container"></div>
  <div id="counter">ü´ß <strong>0 / 0</strong></div>

  <div id="final-message">üéâ Well Done! üéâ</div>
  <img id="chest" src="https://img.genially.com/64233afb55129a0017751c8e/915b9b98-7a24-4b3f-887a-28042ba9acca.png" alt="Chest">

  <script>
    const total = 10;  // –ü—É–∑—ã—Ä–∏–∫–æ–≤ –≤—Å–µ–≥–æ
    let popped = 0;
    const TASKS = {
      1: "What's your name?",
      2: "How old are you?",
      3: "Where are you from?",
      4: "Have you got brothers or sisters?",
      5: "Have you got a pet?",
      6: "What's your favourite drink?",
      7: "What's your favourite food?",
      8: "What's your favourite toy?",
      9: "What's your favourite game?",
      10:"What's your favourite colour?"
    };

    const counter = document.getElementById('counter');
    const finalMessage = document.getElementById('final-message');
    const chest = document.getElementById('chest');

    const bubbles = [];

    for (let i = 1; i <= total; i++) {
      const el = document.createElement('div');
      el.classList.add('bubble');
      el.style.backgroundColor = 'blue';
      Object.assign(el.style, {
        top: `${Math.random() * window.innerHeight}px`,
        left: `${Math.random() * window.innerWidth}px`
      });

      el.addEventListener('click', () => {
        const popSound = new Audio('https://nikashum93.github.io/bubbles-by-nika-shum/pop.mp3');
        popSound.play().catch(() => {});
        el.remove();
        showMessage(i);
        popped++;
        counter.innerHTML = `ü´ß <strong>${popped} / ${total}</strong>`;
      });

      document.getElementById('bubble-container').appendChild(el);
    }

    function showMessage(id) {
      const msg = document.createElement('div');
      msg.innerHTML = TASKS[id] || `<b>–ó–∞–¥–∞–Ω–∏–µ ${id}</b>`;
      Object.assign(msg.style, {
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        background: 'linear-gradient(135deg, #4facfe, #00f2fe)',
        color: 'white',
        padding: '24px 36px',
        borderRadius: '20px',
        fontSize: '22px',
        fontFamily: 'sans-serif',
        textAlign: 'center',
        boxShadow: '0 6px 16px rgba(0,0,0,0.3)',
        pointerEvents: 'auto',
        cursor: 'pointer',
        zIndex: 200
      });

      msg.addEventListener('click', () => {
        msg.remove();
        if (popped === total) {
          showFinal();
        }
      });

      document.getElementById('bubble-container').appendChild(msg);
    }

    function showFinal() {
      finalMessage.style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
      chest.style.display = 'block';  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—É–Ω–¥—É–∫

      const openSound = new Audio('https://nikashum93.github.io/bubbles-by-nika-shum/open.mp3');
      openSound.play().catch(() => {});

      chest.addEventListener('click', () => {
        alert('Congratulations!');
      });
    }
  </script>

</body>
</html>
