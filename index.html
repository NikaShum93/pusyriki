<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü—É–∑—ã—Ä—å–∫–∏ by Nika Shum</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: transparent;
    }

    .bubble-container {
      position: relative;
      width: 1280px; /* —è–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è Genially */
      height: 720px; /* —è–≤–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è Genially */
      background-color: transparent;
      overflow: hidden;
    }

    .bubble {
      position: absolute;
      width: 80px;
      height: 80px;
      opacity: 0.8;
      pointer-events: auto;
      cursor: pointer;
      border-radius: 50%;
      background-image: url('https://media.tenor.com/mqvTrVZEMxIAAAAi/bubble-bfdi.gif');
      background-size: cover;
    }

    #counter {
      position: absolute;
      top: 20px;
      left: 20px;
      font-family: sans-serif;
      font-size: 18px;
      color: #2d3436;
      z-index: 10;
    }

    #chest {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 240px;
      cursor: pointer;
      z-index: 100;
      display: none;
    }

    #final-message {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 36px;
      color: white;
      background: #4CAF50;
      padding: 20px 40px;
      border-radius: 16px;
      display: none;
      z-index: 101;
    }
  </style>
</head>
<body>

<div class="bubble-container" id="bubble-container">
  <div id="counter">ü´ß <strong>0 / 10</strong></div>
  <div id="final-message">üéâ Well Done! üéâ</div>
  <img id="chest" src="https://img.genially.com/64233afb55129a0017751c8e/915b9b98-7a24-4b3f-887a-28042ba9acca.png">
</div>

<script>
  const total = 10;
  let popped = 0;
  const bubbleContainer = document.getElementById('bubble-container');
  const counter = document.getElementById('counter');
  const finalMessage = document.getElementById('final-message');
  const chest = document.getElementById('chest');

  for (let i = 0; i < total; i++) {
    const bubble = document.createElement('div');
    bubble.classList.add('bubble');
    bubble.style.left = Math.random() * (1280 - 80) + 'px';
    bubble.style.top = Math.random() * (720 - 80) + 'px';

    bubble.addEventListener('click', () => {
      bubble.remove();
      popped++;
      counter.innerHTML = `ü´ß <strong>${popped} / ${total}</strong>`;
      if (popped === total) showFinal();
    });

    bubbleContainer.appendChild(bubble);
  }

  function showFinal() {
    finalMessage.style.display = 'block';
    chest.style.display = 'block';
    chest.onclick = () => {
      chest.src = 'https://img.genially.com/64233afb55129a0017751c8e/d76550fd-2622-441f-bbf2-faee6906772e.png';
      const openSound = new Audio('https://nikashum93.github.io/bubbles-by-nika-shum/open.mp3');
      openSound.play();
    };
  }

  function animateBubbles() {
    const bubbles = document.querySelectorAll('.bubble');
    bubbles.forEach(bubble => {
      let dx = (Math.random() - 0.5) * 0.5;
      let dy = (Math.random() - 0.5) * 0.5;

      function move() {
        const rect = bubble.getBoundingClientRect();
        let x = rect.left + dx;
        let y = rect.top + dy;

        if (x < 0 || x > 1200) dx = -dx;
        if (y < 0 || y > 640) dy = -dy;

        bubble.style.left = x + 'px';
        bubble.style.top = y + 'px';

        requestAnimationFrame(move);
      }
      move();
    });
  }

  animateBubbles();
</script>

</body>
</html>
